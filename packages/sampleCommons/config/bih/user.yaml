fence:
  USER_YAML:
    authz:
      anonymous_policies:
        - open_data_reader
        - dictionary_page
        - full_open_access
        - all_dicom_studies_viewer

      # policies automatically given to authenticated users (in addition to their other
      # policies)
      all_users_policies:
        - requestor_creator
        - authn_open_access

      groups:
        - name: 'data_uploaders'
          policies: ['data_upload']
          users:
            - dcf-integration-test-0@planx-pla.net
            - dcf-integration-test-1@planx-pla.net

        - name: access_request_updaters
          policies:
            - requestor_reader
            - requestor_updater
            # delete access should NOT be given in production
            - requestor_deleter
          users:
            - craigrbarnes@uchicago.edu

        # can query audit logs
        - name: audit_readers
          policies:
            - audit_reader
          users:
            - craigrbarnes@uchicago.edu

        - name: gwas_teamproject1_users
          policies:
            - teamproject1_contributor
          users:
            - craigrbarnes@uchicago.edu

        - name: gwas_teamproject2_users
          policies:
            - teamproject2_contributor
          users:
            - craigrbarnes@uchicago.edu

      # to assist in backwards compatibility, assign items that can be found
      # in users.{{name}}.projects to arborist resource paths.
      # NOTE: Ideally, this projects field will not exist in the future, so
      #       if you're trying to provide new access, prefer the creation of
      #       arborist policies and/or groups
      user_project_to_resource:
        QA: /programs/QA
        DEV: /programs/DEV
        test: /programs/QA/projects/test
        jenkins: /programs/jnkns/projects/jenkins
        jenkins2: /programs/jnkns/projects/jenkins2
        jnkns: /programs/jnkns
        phs001151.c1: /programs/phs001151.c1
        phs002409.c1: /programs/DEV/projects/test
        phs002410.c1: /programs/DEV/projects/test2
        phs001477.c1: /programs/DEV/projects/test3
        phs000178: /programs/phs000178

      policies:
        # General Access
        - id: 'workspace'
          description: 'be able to use workspace'
          resource_paths: ['/workspace']
          role_ids: ['workspace_user']
        - id: 'dashboard'
          description: 'be able to use dashboard'
          resource_paths: ['/dashboard']
          role_ids: ['dashboard_user']
        - id: 'cedar_admin'
          description: 'be able to use cedar wrapper service'
          resource_paths: ['/cedar']
          role_ids: ['cedar_user']
        - id: 'kayako_creator'
          description: 'be able to create ticket via kayako wrapper service'
          resource_paths: ['/kayako']
          role_ids: ['kayako_creator']
        - id: 'requestor_creator'
          description: 'be able to create requestor request'
          role_ids: ['requestor_creator']
          resource_paths: ['/programs', '/requestor_client_credentials_test', '/study', '/mds_gateway', '/cedar']
        - id: 'requestor_reader'
          role_ids: ['requestor_reader']
          resource_paths: ['/programs', '/requestor_client_credentials_test', '/study', '/mds_gateway', '/cedar']
        - id: 'requestor_updater'
          role_ids: ['requestor_updater']
          resource_paths: ['/programs', '/requestor_client_credentials_test', '/study', '/mds_gateway', '/cedar']
        - id: 'requestor_deleter'
          role_ids: ['requestor_deleter']
          resource_paths: ['/programs', '/requestor_client_credentials_test', '/study', '/mds_gateway', '/cedar']
        - id: 'prometheus'
          description: 'be able to use prometheus'
          resource_paths: ['/prometheus']
          role_ids: ['prometheus_user']
        - id: 'argocd'
          description: 'be able to use argocd'
          resource_paths: ['/argocd']
          role_ids: ['argocd_user']
        - id: 'thor_admin'
          description: 'be able to use admin thor'
          resource_paths: ['/thor_admin']
          role_ids: ['thor_user']
        - id: 'ttyadmin'
          description: 'be able to use admin tty'
          resource_paths: ['/ttyadmin']
          role_ids: ['ttyadmin_user']
        - id: 'data_upload'
          description: 'upload raw data files to S3'
          role_ids: ['file_uploader']
          resource_paths: ['/data_file']
        - id: 'dictionary_page'
          description: 'be able to view data dictionary'
          role_ids: ['dictionary_page_user']
          resource_paths: ['/dictionary_page']
        - description: be able to use sower job
          id: sower
          resource_paths: [/sower]
          role_ids: [sower_user]
        - id: 'query_page'
          description: 'see ui components related to query page'
          role_ids: ['query_page_user']
          resource_paths: ['/query_page']
        - id: 'mds_admin'
          description: 'be able to use metadata service'
          resource_paths: ['/mds_gateway']
          role_ids: ['mds_user']
        - id: audit_reader
          role_ids:
            - audit_reader
          resource_paths:
            - /services/audit
        - id: study_registrant_admin
          resource_paths:
            - /programs
            - /study
          role_ids:
            - study_registrant
        - id: audit_login_reader
          role_ids:
            - audit_reader
          resource_paths:
            - /services/audit/login
        - id: audit_presigned_url_reader
          role_ids:
            - audit_reader
          resource_paths:
            - /services/audit/presigned_url
        - id: all_dicom_studies_viewer
          role_ids:
            - dicom-viewer_reader
            - orthanc_reader
            - ohif-viewer_reader
          resource_paths:
            - /services/dicom-viewer
        - id: all_dicom_studies_admin
          role_ids:
            - creator
          resource_paths:
            - /services/dicom-viewer

        - id: admin
          role_ids:
            - admin
          resource_paths:
            - /programs
            - /open

        # Data Access

        - id: 'all_programs_reader'
          role_ids:
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
          resource_paths:
            - '/programs'

        - id: 'programs.all-admin'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/programs'

        - id: 'programs.jnkns-admin'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/programs/jnkns'
            - '/programs/jnkns/projects/jenkins'  # FIXME: temporary, b/c of bug in arranger
            - '/programs/jnkns/projects/jenkins2'  # FIXME: temporary, b/c of bug in arranger
            - '/gen3/programs/jnkns'

        - id: 'programs.jnknsonly-admin'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/programs/jnkns/projects/jenkins'  # FIXME: temporary, b/c of bug in arranger

        - id: 'programs.QA-admin'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/programs/QA'
            - '/programs/QA/projects/test'  # FIXME: temporary, b/c of bug in arranger
            - '/gen3/programs/QA'

        - id: 'programs.QA-admin-no-storage'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/programs/QA'
            - '/programs/QA/projects/test'  # FIXME: temporary, b/c of bug in arranger
            - '/gen3/programs/QA'

        - id: 'programs.QA-viewer'
          description: ''
          role_ids:
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
          resource_paths:
            - '/programs/QA'
            - '/programs/QA/projects/test'  # FIXME: temporary, b/c of bug in arranger
            - '/gen3/programs/QA'

        - id: 'programs.DEV-admin'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/programs/DEV'
            - '/programs/DEV/projects/test'  # FIXME: temporary, b/c of bug in arranger
            - '/gen3/programs/DEV'

        - id: 'programs.DEV-viewer'
          description: ''
          role_ids:
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
          resource_paths:
            - '/programs/DEV'
            - '/programs/DEV/projects/test'  # FIXME: temporary, b/c of bug in arranger
            - '/gen3/programs/DEV'

        - id: 'programs.test-admin'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/programs/test'
            - '/programs/test/projects/test'  # FIXME: temporary, b/c of bug in arranger
            - '/gen3/programs/test'

        - id: 'abc-admin'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/abc'

        - id: 'gen3-admin'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/gen3'

        - id: 'gen3-hmb-researcher'
          description: ''
          role_ids:
            - 'creator'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
            - 'updater'
            - 'deleter'
          resource_paths:
            - '/consents/NRES'
            - '/consents/GRU'
            - '/consents/GRU_CC'
            - '/consents/HMB'
            - '/gen3'

        - id: 'abc.programs.test_program.projects.test_project1-viewer'
          description: ''
          role_ids:
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
          resource_paths:
            - '/abc/programs/test_program/projects/test_project1'

        - id: 'abc.programs.test_program.projects.test_project2-viewer'
          description: ''
          role_ids:
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
          resource_paths:
            - '/abc/programs/test_program/projects/test_project2'

        - id: 'abc.programs.test_program2.projects.test_project3-viewer'
          description: ''
          role_ids:
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
          resource_paths:
            - '/abc/programs/test_program2/projects/test_project3'

        # Open data policies
        - id: 'authn_open_access'
          resource_paths: ['/programs/open/projects/authnRequired']
          description: ''
          role_ids:
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
        - id: 'full_open_access'
          resource_paths: ['/programs/open/projects/1000G']
          description: ''
          role_ids:
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
        - id: 'open_data_reader'
          description: ''
          role_ids:
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
          resource_paths:
            - '/open'
            - '/programs/DEV/projects/DICOM_test'
        - id: 'open_data_admin'
          description: ''
          role_ids:
            - 'creator'
            - 'updater'
            - 'deleter'
            - 'storage_writer'
            - guppy_reader
            - fence_reader
            - peregrine_reader
            - sheepdog_reader
          resource_paths: ['/open']

        # Consent Code Policies
        - id: 'not-for-profit-researcher'
          description: ''
          role_ids:
            - 'admin'
          resource_paths:
            - '/consents/NPU'

        - id: 'publication-required-researcher'
          description: ''
          role_ids:
            - 'admin'
          resource_paths:
            - '/consents/PUB'

        - id: 'gru-researcher'
          description: ''
          role_ids:
            - 'admin'
          resource_paths:
            - '/consents/NRES'
            - '/consents/GRU'

        - id: 'gru-cc-researcher'
          description: ''
          role_ids:
            - 'admin'
          resource_paths:
            - '/consents/NRES'
            - '/consents/GRU'
            - '/consents/GRU_CC'

        - id: 'hmb-researcher'
          description: ''
          role_ids:
            - 'admin'
          resource_paths:
            - '/consents/NRES'
            - '/consents/GRU'
            - '/consents/GRU_CC'
            - '/consents/HMB'

        - id: 'poa-researcher'
          description: ''
          role_ids:
            - 'admin'
          resource_paths:
            - '/consents/NRES'
            - '/consents/GRU'
            - '/consents/GRU_CC'
            - '/consents/POA'

        - id: 'ds-lung-researcher'
          description: ''
          role_ids:
            - 'admin'
          resource_paths:
            - '/consents/NRES'
            - '/consents/GRU'
            - '/consents/GRU_CC'
            - '/consents/HMB'
            - '/consents/DS_LungDisease'

        - id: 'ds-chronic-obstructive-pulmonary-disease-researcher'
          description: ''
          role_ids:
            - 'admin'
          resource_paths:
            - '/consents/NRES'
            - '/consents/GRU'
            - '/consents/GRU_CC'
            - '/consents/HMB'
            - '/consents/DS_ChronicObstructivePulmonaryDisease'

        - id: 'services.sheepdog-admin'
          description: 'CRUD access to programs and projects'
          role_ids:
            - 'sheepdog_admin'
          resource_paths:
            - '/services/sheepdog/submission/program'
            - '/services/sheepdog/submission/project'

        # indexd
        - id: 'indexd_admin'
          # this only works if indexd.arborist is enabled in manifest!
          description: 'full access to indexd API'
          role_ids:
            - 'indexd_admin'
          resource_paths:
            - '/programs'
            - '/services/indexd/admin'
        - id: indexd_creator
          role_ids:
            - 'indexd_record_creator'
          resource_paths:
            - '/programs'
        # # TODO resource path '/' is not valid right now in arborist, trying to decide
        # #      how to handle all resources
        # - id: 'indexd_admin'
        #   description: ''
        #   role_ids:
        #     - 'indexd_record_creator'
        #     - 'indexd_record_reader'
        #     - 'indexd_record_updater'
        #     - 'indexd_delete_record'
        #     - 'indexd_storage_reader'
        #     - 'indexd_storage_writer'
        #   resource_paths: ['/']
        # - id: 'indexd_record_reader'
        #   description: ''
        #   role_ids:
        #     - 'indexd_record_reader'
        #   resource_paths: ['/']
        # - id: 'indexd_record_editor'
        #   description: ''
        #   role_ids:
        #     - 'indexd_record_creator'
        #     - 'indexd_record_reader'
        #     - 'indexd_record_updater'
        #     - 'indexd_delete_record'
        #   resource_paths: ['/']
        # - id: 'indexd_storage_reader'
        #   description: ''
        #   role_ids:
        #     - 'indexd_storage_reader'
        #   resource_paths: ['/']
        # - id: 'indexd_storage_editor'
        #   description: ''
        #   role_ids:
        #     - 'indexd_storage_reader'
        #     - 'indexd_storage_writer'
        #   resource_paths: ['/']

        - id: 'indexd-tester'
          description: ''
          role_ids:
            - 'indexd_record_creator'
            - 'indexd_record_reader'
            - 'indexd_record_updater'
            - 'indexd_delete_record'
            - 'indexd_storage_reader'
            - 'indexd_storage_writer'
          resource_paths: ['/gen3/programs/QA', '/programs/QA']

        - id: 'workflow_admin'
          description: 'admin access to argo workflow API'
          resource_paths: ['/services/workflow/argo/admin']
          role_ids: ['workflow_admin']

        - id: argo
          description: be able to use argo
          resource_paths: [/argo]
          role_ids: [argo_user]

        - id: 'mariner_admin'
          description: 'full access to mariner API'
          resource_paths: ['/mariner']
          role_ids: ['mariner_admin']

        - id: 'cohort_middleware'
          description: 'be able to see Diabetes cohort'
          resource_paths: ['/cohort-middleware']
          role_ids: ['cohort_middleware_admin']

        - id: 'cohort_diabetes'
          description: 'be able to see Diabetes cohort'
          resource_paths: ['/cohort-middleware/cohort/by-name/Diabetes']
          role_ids: ['cohort_diabetes_user']

        - id : requestor_client_credentials_test
          description: 'test policy for client credentials requestor requests'
          role_ids:
            - requestor_creator
            - requestor_updater
            - requestor_deleter
          resource_paths:
            - /requestor_client_credentials_test

        # Requestor Integration test policies
        - id: requestor_integration_test
          description: 'test policy for integration tests'
          role_ids:
            - workspace_user
            - requestor_creator
            - requestor_updater
            - requestor_deleter
          resource_paths:
            - /requestor_integration_test

        - id: 'teamproject1_contributor'
          description: 'be able to create and access cohorts of teamproject1 in Atlas, Argo-wrapper and cohort-middleware'
          resource_paths: ['/gwas_projects/project1']
          role_ids: ['teamproject_member']
        - id: 'teamproject2_contributor'
          description: 'be able to create and access cohorts of teamproject2 in Atlas, Argo-wrapper and cohort-middleware'
          resource_paths: ['/gwas_projects/project2']
          role_ids: ['teamproject_member']

      resources:
        # General Access
        - name: 'data_file'
          description: 'data files, stored in S3'
        - name: 'dashboard'
        - name: requestor_client_credentials_test
          description: 'test resource for client credentials requestor requests'
        - name: 'dictionary_page'
          description: 'use dictionary page in portal'
        - name: 'prometheus'
        - name: 'argocd'
        - name: 'thor_admin'
          description: 'commons /thor-admin'
        - name: 'cedar'
          description: 'commons /cedar'
        - name: 'kayako'
          description: 'commons /kayako'
        - name: 'ttyadmin'
        - name: 'workspace'
        - name: "sower"
        - name: 'query_page'
        - name: 'mds_gateway'
          description: 'commons /mds-admin'
        - name: 'mariner'
          description: 'workflow execution service'
        - name: 'cohort-middleware'
          subresources:
            - name: 'cohort'
              subresources:
                - name: 'by-name'
                  subresources:
                    - name: 'Diabetes'
        - name: requestor_integration_test
          description: 'policy used for requestor integration tests'

        # OLD Data
        - name: 'programs'
          subresources:
            - name: 'phs001151.c1'
            - name: 'phs000710.c99'
            - name: 'phs000178'
            - name: 'open'
              subresources:
                - name: 'projects'
                  subresources:
                    - name: '1000G'
                    - name: 'authnRequired'
            - name: 'QA'
              subresources:
                - name: 'projects'
                  subresources:
                    - name: 'test'
            - name: 'DEV'
              subresources:
                - name: 'projects'
                  subresources:
                    - name: 'test'
                    - name: 'cnp-open-fmri'
                    - name: 'phs001151.c1'
                    - name: 'DICOM_test'  # qa-midrc DICOM viewer testing
                    - name: 'COVID-19-NY-SBU'
            - name: 'jnkns'
              subresources:
                - name: 'projects'
                  subresources:
                    - name: 'jenkins'
                    - name: 'jenkins2'
            - name: 'test'
              subresources:
                - name: 'projects'
                  subresources:
                    - name: 'test'

        # NEW Data WITH PREFIX
        - name: 'gen3'
          subresources:
            - name: 'programs'
              subresources:
                - name: 'QA'
                  subresources:
                    - name: 'projects'
                      subresources:
                        - name: 'test'
                - name: 'DEV'
                  subresources:
                    - name: 'projects'
                      subresources:
                        - name: 'test'
                        - name: 'cnp-open-fmri'
                        - name: 'COVID-19-NY-SBU'
                - name: 'jnkns'
                  subresources:
                    - name: 'projects'
                      subresources:
                        - name: 'jenkins'
                        - name: 'jenkins2'
                - name: 'test'
                  subresources:
                    - name: 'projects'
                      subresources:
                        - name: 'test'

        # consents obtained from DUO and NIH
        # https://github.com/EBISPOT/DUO
        # https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4721915/
        - name: 'consents'
          subresources:
            - name: 'NRES'
              description: 'no restriction'
            - name: 'GRU'
              description: 'general research use'
            - name: 'GRU_CC'
              description: 'general research use and clinical care'
            - name: 'HMB'
              description: 'health/medical/biomedical research'
            - name: 'POA'
              description: 'population origins or ancestry research'
            - name: 'NMDS'
              description: 'no general methods research'
            - name: 'NPU'
              description: 'not-for-profit use only'
            - name: 'PUB'
              description: 'publication required'
            - name: 'DS_LungDisease'
              description: 'disease-specific research for lung disease'
            - name: 'DS_ChronicObstructivePulmonaryDisease'
              description: 'disease-specific research for chronic obstructive pulmonary disease'

        - name: 'abc'
          subresources:
            - name: 'programs'
              subresources:
                - name: 'foo'
                  subresources:
                    - name: 'projects'
                      subresources:
                        - name: 'bar'
                - name: 'test_program'
                  subresources:
                    - name: 'projects'
                      subresources:
                        - name: 'test_project1'
                        - name: 'test_project2'
                - name: 'test_program2'
                  subresources:
                    - name: 'projects'
                      subresources:
                        - name: 'test_project3'

        - name: 'services'
          subresources:
            - name: 'sheepdog'
              subresources:
                - name: 'submission'
                  subresources:
                    - name: 'program'
                    - name: 'project'
            - name: 'indexd'
              subresources:
                - name: 'admin'
                - name: 'bundles'
            - name: audit
              subresources:
                - name: presigned_url
                - name: login
            - name: 'workflow'
              subresources:
                - name: 'argo'
                  subresources:
                    - name: 'admin'
            - name: dicom-viewer
              subresources:
                - name: studies

        - name: argo
        - name: 'open'
        # study registration
        - name: 'study'

        - name: gwas_projects
          subresources:
            - name: project1
            - name: project2

      # action/methods:
      #     create, read, update, delete, read-storage, write-storage,
      #     file_upload, access



      roles:
        # General Access
        - id: 'file_uploader'
          description: 'can upload data files'
          permissions:
            - id: 'file_upload'
              action:
                service: '*'
                method: 'file_upload'
        - id: 'workspace_user'
          permissions:
            - id: 'workspace_access'
              action:
                service: 'jupyterhub'
                method: 'access'
        - id: 'dictionary_page_user'
          permissions:
            - id: 'dictionary_page_access'
              action:
                service: 'dictionary_page'
                method: 'access'
        - id: 'requestor_reader'
          permissions:
            - id: 'requestor_reader_action'
              action:
                service: 'requestor'
                method: 'read'
        - id: 'requestor_updater'
          permissions:
            - id: 'requestor_updater_action'
              action:
                service: 'requestor'
                method: 'update'
        - id: 'requestor_deleter'
          permissions:
            - id: 'requestor_deleter_action'
              action:
                service: 'requestor'
                method: 'delete'
        - id: 'requestor_creator'
          permissions:
            - id: 'requestor_creator_action'
              action:
                service: 'requestor'
                method: 'create'
        - id: 'dashboard_user'
          permissions:
            - id: 'dashboard_access'
              action:
                service: 'dashboard'
                method: 'access'
        - id: 'prometheus_user'
          permissions:
            - id: 'prometheus_access'
              action:
                service: 'prometheus'
                method: 'access'
        - id: 'argocd_user'
          permissions:
            - id: 'argocd_access'
              action:
                service: 'argocd'
                method: 'access'
        - id: 'thor_user'
          permissions:
            - id: 'thor_access'
              action:
                service: 'thor_admin'
                method: 'access'
        - id: 'ttyadmin_user'
          permissions:
            - id: 'ttyadmin_access'
              action:
                service: 'ttyadmin'
                method: 'access'
        - id: 'sower_user'
          permissions:
            - id: 'sower_access'
              action:
                service: 'job'
                method: 'access'
        - id: 'query_page_user'
          permissions:
            - id: 'query_page_access'
              action:
                service: 'query_page'
                method: 'access'
        - id: 'mds_user'
          permissions:
            - id: 'mds_access'
              action:
                service: 'mds_gateway'
                method: 'access'
        - id: 'cedar_user'
          permissions:
            - id: 'cedar_access'
              action:
                service: 'cedar'
                method: 'access'
        - id: 'kayako_creator'
          permissions:
            - id: 'kayako_access'
              action:
                service: 'kayako'
                method: 'create'
        - id: 'study_registrant'
          permissions:
            - id: 'study_registration'
              action:
                service: study_registration
                method: 'access'
            - id: 'storage_writer'
              action:
                service: '*'
                method: 'write-storage'
            - id: 'creator'
              action:
                service: '*'
                method: 'create'
        - id: 'mariner_admin'
          permissions:
            - id: 'mariner_access'
              action:
                service: 'mariner'
                method: 'access'
        - id: 'workflow_admin'
          permissions:
            - id: 'argo_access'
              action:
                service: 'argo_workflow'
                method: 'access'
        - id: argo_user
          permissions:
            - id: argo_access
              action:
                service: argo
                method: access
        - id: audit_reader
          permissions:
            - id: audit_reader_action
              action:
                service: audit
                method: read
        # All services
        - id: 'admin'
          description: ''
          permissions:
            - id: 'admin'
              action:
                service: '*'
                method: '*'
        - id: 'creator'
          description: ''
          permissions:
            - id: 'creator'
              action:
                service: '*'
                method: 'create'
        - id: 'updater'
          description: ''
          permissions:
            - id: 'updater'
              action:
                service: '*'
                method: 'update'
        - id: 'deleter'
          description: ''
          permissions:
            - id: 'deleter'
              action:
                service: '*'
                method: 'delete'
        - id: 'storage_writer'
          description: ''
          permissions:
            - id: 'storage_creator'
              action:
                service: '*'
                method: 'write-storage'
        - id: guppy_reader
          description: ''
          permissions:
            - id: guppy_reader
              action:
                method: read
                service: 'guppy'
        - id: fence_reader
          description: ''
          permissions:
            - id: fence-reader
              action:
                method: read
                service: 'fence'
            - id: fence_storage_reader
              action:
                method: read-storage
                service: 'fence'
        - id: peregrine_reader
          description: ''
          permissions:
            - id: peregrine_reader
              action:
                method: read
                service: 'peregrine'
        - id: sheepdog_reader
          description: ''
          permissions:
            - id: sheepdog_reader
              action:
                method: read
                service: 'sheepdog'
        - id: dicom-viewer_reader
          description: ''
          permissions:
            - id: dicom-viewer_reader
              action:
                method: read
                service: 'dicom-viewer'
        - id: orthanc_reader
          description: ''
          permissions:
            - id: orthanc_reader
              action:
                method: read
                service: 'orthanc'
        - id: ohif-viewer_reader
          description: ''
          permissions:
            - id: ohif-viewer_reader
              action:
                method: read
                service: 'ohif-viewer'

        # Sheepdog admin role
        - id: 'sheepdog_admin'
          description: 'sheepdog admin role for program project crud'
          permissions:
            - id: 'sheepdog_admin_action'
              action:
                service: 'sheepdog'
                method: '*'

        # indexd
        - id: 'indexd_admin'
          description: 'full access to indexd API'
          permissions:
            - id: 'indexd_admin'
              action:
                service: 'indexd'
                method: '*'
        - id: 'indexd_record_creator'
          description: ''
          permissions:
            - id: 'indexd_record_creator'
              action:
                service: 'indexd'
                method: 'create'
        - id: 'indexd_record_reader'
          description: ''
          permissions:
            - id: 'indexd_record_reader'
              action:
                service: 'indexd'
                method: 'read'
        - id: 'indexd_record_updater'
          description: ''
          permissions:
            - id: 'indexd_record_updater'
              action:
                service: 'indexd'
                method: 'update'
        - id: 'indexd_delete_record'
          description: ''
          permissions:
            - id: 'indexd_delete_record'
              action:
                service: 'indexd'
                method: 'delete'
        - id: 'indexd_storage_reader'
          description: ''
          permissions:
            - id: 'indexd_storage_reader'
              action:
                service: 'indexd'
                method: 'read-storage'
        - id: 'indexd_storage_writer'
          description: ''
          permissions:
            - id: 'indexd_storage_writer'
              action:
                service: 'indexd'
                method: 'write-storage'

        # arborist
        - id: 'arborist_creator'
          description: ''
          permissions:
            - id: 'arborist_creator'
              action:
                service: 'arborist'
                method: 'create'
        - id: 'arborist_reader'
          description: ''
          permissions:
            - id: 'arborist_reader'
              action:
                service: 'arborist'
                method: 'read'
        - id: 'arborist_updater'
          description: ''
          permissions:
            - id: 'arborist_updater'
              action:
                service: 'arborist'
                method: 'update'
        - id: 'arborist_deleter'
          description: ''
          permissions:
            - id: 'arborist_deleter'
              action:
                service: 'arborist'
                method: 'delete'

        - id: 'cohort_middleware_admin'
          permissions:
            - id: 'cohort_middleware_user_admin'
              action:
                service: 'cohort-middleware'
                method: 'access'

        - id: 'teamproject_member'
          permissions:
            - id: 'teamproject_member'
              action:
                service: 'atlas-argo-wrapper-and-cohort-middleware'
                method: 'access'

        - id: 'cohort_diabetes_user'
          permissions:
            - id: 'cohort_diabetes_user_access'
              action:
                service: 'cohort-middleware'
                method: 'access'

    clients:
      wts:
        policies:
          - all_programs_reader
          - open_data_reader
          - workspace
          - cohort_middleware
      basic-test-client:
        policies:
          - abc-admin
          - gen3-admin
      basic-test-abc-client:
        policies:
          - abc-admin
      jenkinsClientTester:
        policies:
          - requestor_creator
          - requestor_updater
          - indexd_creator

    users:
      craigrbarnes@uchicago.edu:
        admin: true
        policies:
          - data_upload
          - workspace
          - dashboard
          - prometheus
          - mds_admin
          - sower
          - services.sheepdog-admin
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - indexd_admin
          - ttyadmin
          - argocd
      ajoa@uchicago.edu:
        admin: true
        policies:
          - data_upload
          - workspace
          - dashboard
          - prometheus
          - mds_admin
          - sower
          - services.sheepdog-admin
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - indexd_admin
          - ttyadmin
          - argocd
      alahrime@uchicago.edu:
        admin: true
        policies:
          - mariner_admin
          - workflow_admin
          - argo
          - data_upload
          - workspace
          - dashboard
          - prometheus
          - sower
          - mds_admin
          - services.sheepdog-admin
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - indexd_admin
          - ttyadmin
          - cohort_middleware
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
      aprokh@uchicago.edu:
        admin: true
        policies:
          - mariner_admin
          - workflow_admin
          - argo
          - data_upload
          - workspace
          - dashboard
          - prometheus
          - sower
          - mds_admin
          - services.sheepdog-admin
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - indexd_admin
          - ttyadmin
          - cohort_diabetes
          - cohort_middleware
          - all_dicom_studies_viewer
          - all_dicom_studies_admin
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
      avantol@uchicago.edu:
        admin: true
        policies:
          - workflow_admin
          - argo
          - data_upload
          - workspace
          - dashboard
          - prometheus
          - sower
          - mds_admin
          - services.sheepdog-admin
          - programs.all-admin
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - indexd_admin
          - ttyadmin
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
      blarrick@uchicago.edu:
        admin: true
        policies:
          - indexd-tester
          - data_upload
          - workspace
          - dashboard
          - sower
          - mds_admin
          - prometheus
          - query_page
          - services.sheepdog-admin
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - indexd_admin
          - ttyadmin
          - workflow_admin
          - argo
          - cohort_middleware
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
      binamb@uchicago.edu:
        admin: true
        policies:
          - indexd-tester
          - data_upload
          - workspace
          - dashboard
          - sower
          - mds_admin
          - prometheus
          - query_page
          - services.sheepdog-admin
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - indexd_admin
          - ttyadmin
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
      cdis:
        admin: true
        policies:
          - services.sheepdog-admin
      cdis.autotest@gmail.com:
        admin: true
        policies:
          - data_upload
          - workspace
          - dashboard
          - prometheus
          - mds_admin
          - sower
          - services.sheepdog-admin
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - abc-admin
          - requestor_integration_test
          - ttyadmin
          - mariner_admin
          - workflow_admin
          - argo
          - cohort_middleware
          - all_dicom_studies_admin
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: phs000178
            privilege: [read-storage]
      ctds.indexing.test@gmail.com:
        admin: true
        policies:
          - data_upload
          - workspace
          - mds_admin
          - sower
          - services.sheepdog-admin
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - abc-admin
          - indexd_admin
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage, write-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage, write-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
      cgmeyer@uchicago.edu:
        admin: true
        policies:
          - dashboard
          - data_upload
          - indexd_admin
          - mariner_admin
          - mds_admin
          - prometheus
          - query_page
          - services.sheepdog-admin
          - sower
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - ttyadmin
          - workspace
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
      ### Dan Biber
      pqd2674@uchicago.edu:
        admin: true
        policies:
          - dashboard
          - data_upload
          - indexd_admin
          - mariner_admin
          - mds_admin
          - prometheus
          - query_page
          - services.sheepdog-admin
          - sower
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - ttyadmin
          - workspace
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
      dcf-integration-test-0@planx-pla.net:
        admin: false
        policies:
          - workspace
          - sower
          - mds_admin
          - programs.QA-admin
          - gen3-admin
          - hmb-researcher
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
      dcf-integration-test-1@planx-pla.net:
        admin: false
        policies:
          - workspace
          - sower
          - mds_admin
          - programs.QA-admin
          - programs.test-admin
          - gen3-hmb-researcher
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
      dcf-integration-test-2@planx-pla.net:
        admin: false
        policies:
          - kayako_creator
          - requestor_creator
          - mds_admin
          - cedar_admin
          - sower
        projects: []
      deepticole@gmail.com:
        policies:
          - workspace
          - sower
          - programs.QA-viewer
        projects:
          - auth_id: QA
            privilege: [read, read-storage]
      dongxiao@uchicago.edu:
        admin: true
        policies:
          - dashboard
          - data_upload
          - indexd_admin
          - mariner_admin
          - mds_admin
          - prometheus
          - query_page
          - services.sheepdog-admin
          - sower
          - programs.QA-admin
          - programs.test-admin
          - programs.DEV-admin
          - programs.jnkns-admin
          - ttyadmin
          - workspace
        projects:
          - auth_id: QA
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: test
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: DEV
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jenkins2
            privilege: [create, read, update, delete, upload, read-storage]
          - auth_id: jnkns
            privilege: [create, read, update, delete, upload, read-storage]
